/* ============================================================
   Glass Material System — scottbertrand.com
   v1.5.1
   ------------------------------------------------------------
   Architectural, edge-led glass.
   Calm center field. Subtle refraction cues.
   No gimmicks. No card UI. No heavy blur.
   ============================================================ */

/* ------------------------------------------------------------
   1. Root Variables (tuned for restraint)
   ------------------------------------------------------------ */

:root {
  /* Global light direction (normalized -1 → 1) */
  --glass-lx: 0.15; /* left/right */
  --glass-ly: -0.15; /* top/bottom */

  /* Core material tuning */
  --glass-bg: rgba(255, 255, 255, 0.55);
  --glass-bg-fallback: rgba(255, 255, 255, 0.75);

  --glass-blur-core: 6px;
  --glass-blur-edge: 10px;

  /* Edge definition */
  --glass-radius-sm: 12px;
  --glass-radius-md: 16px;
  --glass-radius-lg: 20px;

  /* Edge highlight + shadow (very subtle) */
  --glass-edge-highlight: rgba(255, 255, 255, 0.45);
  --glass-edge-shadow: rgba(0, 0, 0, 0.08);

  /* Motion restraint */
  --glass-transition-fast: 240ms cubic-bezier(0.25, 0.1, 0.25, 1);
  --glass-transition-slow: 420ms cubic-bezier(0.25, 0.1, 0.25, 1);
}

/* ------------------------------------------------------------
   2. Base Glass Container
   ------------------------------------------------------------ */

.glass {
  position: relative;
  background: var(--glass-bg);
  border-radius: var(--glass-radius-md);
  overflow: hidden;

  /* Calm interior field */
  backdrop-filter: blur(var(--glass-blur-core));
  -webkit-backdrop-filter: blur(var(--glass-blur-core));

  transition:
    background var(--glass-transition-slow),
    backdrop-filter var(--glass-transition-slow);
}

/* Fallback when backdrop-filter is unsupported */
@supports not ((backdrop-filter: blur(1px)) or (-webkit-backdrop-filter: blur(1px))) {
  .glass {
    background: var(--glass-bg-fallback);
  }
}

/* ------------------------------------------------------------
   3. Edge-Led Refraction (the important part)
   ------------------------------------------------------------ */

.glass::before,
.glass::after {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  pointer-events: none;
}

/* Inner highlight — light-catching edge */
.glass::before {
  box-shadow:
    inset calc(var(--glass-lx) * -6px)
          calc(var(--glass-ly) * -6px)
          8px
          var(--glass-edge-highlight);
}

/* Opposing shadow — thickness cue */
.glass::after {
  box-shadow:
    inset calc(var(--glass-lx) * 6px)
          calc(var(--glass-ly) * 6px)
          10px
          var(--glass-edge-shadow);
}

/* ------------------------------------------------------------
   4. Glass Variants (Structural, not decorative)
   ------------------------------------------------------------ */

/* Wide section divider / band */
.glass--band {
  border-radius: var(--glass-radius-lg);
  padding: 1.25rem 1.5rem;
}

/* Content container (case studies, offerings) */
.glass--panel {
  padding: 1.5rem 1.75rem;
}

/* Narrow editorial callout / system note */
.glass--callout {
  border-radius: var(--glass-radius-sm);
  padding: 1rem 1.25rem;
}

/* Footer / closing container */
.glass--footer {
  border-radius: var(--glass-radius-lg);
  padding: 2rem;
}

/* ------------------------------------------------------------
   5. Reduced Motion Handling
   ------------------------------------------------------------ */

@media (prefers-reduced-motion: reduce) {
  .glass {
    transition: none;
  }
}

/* ------------------------------------------------------------
   6. Guardrails (intentional limits)
   ------------------------------------------------------------ */

/* Never stack visual noise */
.glass > .glass {
  background: transparent;
  backdrop-filter: none;
  -webkit-backdrop-filter: none;
}